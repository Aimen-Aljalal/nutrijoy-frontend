(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[271],{5695:(e,a,s)=>{"use strict";var t=s(8999);s.o(t,"usePathname")&&s.d(a,{usePathname:function(){return t.usePathname}}),s.o(t,"useRouter")&&s.d(a,{useRouter:function(){return t.useRouter}}),s.o(t,"useSearchParams")&&s.d(a,{useSearchParams:function(){return t.useSearchParams}})},6315:(e,a,s)=>{"use strict";s.d(a,{default:()=>i});var t=s(5155),r=s(2115),l=s(5695);function i(){let[e,a]=(0,r.useState)({username:"",email:"",password:"",age:"",gender:"",height_cm:"",weight_kg:"",activity_level:"",goal:"",agreeTerms:!1}),[s,i]=(0,r.useState)({}),[n,o]=(0,r.useState)(!1),d=(0,l.useRouter)(),c=e=>{let{name:s,value:t,type:r,checked:l}=e.target;a(e=>({...e,[s]:"checkbox"===r?l:t}))},m=async a=>{if(a.preventDefault(),(()=>{let a={};return e.username.trim()||(a.username="Username is required."),e.email.trim()&&/\S+@\S+\.\S+/.test(e.email)||(a.email="Valid email is required."),e.password.length<3&&(a.password="Password must be at least 3 characters."),(!e.age||isNaN(e.age)||e.age<10||e.age>100)&&(a.age="Age must be between 10 and 100."),["male","female"].includes(e.gender)||(a.gender="Gender is required."),(!e.height_cm||isNaN(e.height_cm)||e.height_cm<100||e.height_cm>250)&&(a.height_cm="Height must be between 100 and 250 cm."),(!e.weight_kg||isNaN(e.weight_kg)||e.weight_kg<30||e.weight_kg>300)&&(a.weight_kg="Weight must be between 30 and 300 kg."),["sedentary","moderate","active"].includes(e.activity_level)||(a.activity_level="Activity level is required."),["lose weight","gain weight","maintain weight"].includes(e.goal)||(a.goal="Goal is required."),e.agreeTerms||(a.agreeTerms="You must agree to terms."),i(a),0===Object.keys(a).length})()){o(!0);try{let a=await fetch("https://nutrijoy-backend.onrender.com/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok){let e=await a.json();i({server:e.message||"Something went wrong. Please try again."}),o(!1);return}d.push("/login")}catch(e){i({server:"Failed to connect to the server. Please try again later."}),o(!1)}}};return(0,t.jsxs)("form",{onSubmit:m,className:"max-w-lg mx-auto bg-white p-8 rounded shadow-md",noValidate:!0,children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center text-green-900",children:"Create Your Account"}),s.server&&(0,t.jsx)("p",{className:"text-red-500 text-sm mb-4 text-center",children:s.server}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{htmlFor:"username",className:"block font-semibold mb-1",children:"Username"}),(0,t.jsx)("input",{type:"text",id:"username",name:"username",value:e.username,onChange:c,className:"w-full px-4 py-2 border rounded focus:outline-none ".concat(s.username?"border-red-500":"border-gray-300"),disabled:n}),s.username&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:s.username})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{htmlFor:"email",className:"block font-semibold mb-1",children:"Email"}),(0,t.jsx)("input",{type:"email",id:"email",name:"email",value:e.email,onChange:c,className:"w-full px-4 py-2 border rounded focus:outline-none ".concat(s.email?"border-red-500":"border-gray-300"),disabled:n}),s.email&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:s.email})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{htmlFor:"password",className:"block font-semibold mb-1",children:"Password"}),(0,t.jsx)("input",{type:"password",id:"password",name:"password",value:e.password,onChange:c,className:"w-full px-4 py-2 border rounded focus:outline-none ".concat(s.password?"border-red-500":"border-gray-300"),minLength:3,disabled:n}),s.password&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:s.password})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{htmlFor:"age",className:"block font-semibold mb-1",children:"Age"}),(0,t.jsx)("input",{type:"number",id:"age",name:"age",value:e.age,onChange:c,className:"w-full px-4 py-2 border rounded focus:outline-none ".concat(s.age?"border-red-500":"border-gray-300"),min:10,max:100,disabled:n}),s.age&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:s.age})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block font-semibold mb-1",children:"Gender"}),(0,t.jsxs)("div",{className:"flex gap-6",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"radio",name:"gender",value:"male",checked:"male"===e.gender,onChange:c,className:"cursor-pointer",disabled:n}),"Male"]}),(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"radio",name:"gender",value:"female",checked:"female"===e.gender,onChange:c,className:"cursor-pointer",disabled:n}),"Female"]})]}),s.gender&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:s.gender})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{htmlFor:"height_cm",className:"block font-semibold mb-1",children:"Height (cm)"}),(0,t.jsx)("input",{type:"number",id:"height_cm",name:"height_cm",value:e.height_cm,onChange:c,className:"w-full px-4 py-2 border rounded focus:outline-none ".concat(s.height_cm?"border-red-500":"border-gray-300"),min:100,max:250,disabled:n}),s.height_cm&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:s.height_cm})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{htmlFor:"weight_kg",className:"block font-semibold mb-1",children:"Weight (kg)"}),(0,t.jsx)("input",{type:"number",id:"weight_kg",name:"weight_kg",value:e.weight_kg,onChange:c,className:"w-full px-4 py-2 border rounded focus:outline-none ".concat(s.weight_kg?"border-red-500":"border-gray-300"),min:30,max:300,disabled:n}),s.weight_kg&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:s.weight_kg})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{htmlFor:"activity_level",className:"block font-semibold mb-1",children:"Activity Level"}),(0,t.jsxs)("select",{id:"activity_level",name:"activity_level",value:e.activity_level,onChange:c,className:"w-full px-4 py-2 border rounded focus:outline-none ".concat(s.activity_level?"border-red-500":"border-gray-300"),disabled:n,children:[(0,t.jsx)("option",{value:"",children:"Select an option"}),(0,t.jsx)("option",{value:"sedentary",children:"Sedentary (Little or no exercise)"}),(0,t.jsx)("option",{value:"moderate",children:"Moderate (Exercise 3-5 days/week)"}),(0,t.jsx)("option",{value:"active",children:"Active (Daily exercise or intense exercise 3-4 days/week)"})]}),s.activity_level&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:s.activity_level})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{htmlFor:"goal",className:"block font-semibold mb-1",children:"Goal"}),(0,t.jsxs)("select",{id:"goal",name:"goal",value:e.goal,onChange:c,className:"w-full px-4 py-2 border rounded focus:outline-none ".concat(s.goal?"border-red-500":"border-gray-300"),disabled:n,children:[(0,t.jsx)("option",{value:"",children:"Select your goal"}),(0,t.jsx)("option",{value:"lose weight",children:"Lose Weight"}),(0,t.jsx)("option",{value:"gain weight",children:"Gain Weight"}),(0,t.jsx)("option",{value:"maintain weight",children:"Maintain Weight"})]}),s.goal&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:s.goal})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("label",{className:"inline-flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",name:"agreeTerms",checked:e.agreeTerms,onChange:c,className:"cursor-pointer ".concat(s.agreeTerms?"border-red-500":""),disabled:n}),(0,t.jsx)("span",{children:"I agree to the terms and conditions"})]}),s.agreeTerms&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:s.agreeTerms})]}),(0,t.jsx)("button",{type:"submit",className:"w-full bg-green-700 hover:bg-green-800 text-white font-semibold py-3 rounded transition flex items-center justify-center ".concat(n?"opacity-50 cursor-not-allowed":""),disabled:n,children:n?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-3 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing Up..."]}):"Sign Up"})]})}},9500:(e,a,s)=>{Promise.resolve().then(s.bind(s,6315))}},e=>{e.O(0,[441,964,358],()=>e(e.s=9500)),_N_E=e.O()}]);